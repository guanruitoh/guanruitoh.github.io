<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Thank You!</title>
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400|Montserrat:700' rel='stylesheet' type='text/css'>
    <style>
        @import url(//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.1/normalize.min.css);
        @import url(//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css);
    </style>
    <link rel="stylesheet" href="https://2-22-4-dot-lead-pages.appspot.com/static/lp918/min/default_thank_you.css">
    <script src="https://2-22-4-dot-lead-pages.appspot.com/static/lp918/min/jquery-1.9.1.min.js"></script>
    <script src="https://2-22-4-dot-lead-pages.appspot.com/static/lp918/min/html5shiv.js"></script>  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsbarcode/3.11.5/JsBarcode.all.min.js" integrity="sha512-QEAheCz+x/VkKtxeGoDq6nsGyzTx/0LMINTgQjqZ0h3+NjP+bCsPYz3hn0HnBkGmkIFSr7QcEZT+KyEM7lbLPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script>
            
        var firebaseConfig = {
            apiKey: "AIzaSyBo8djp3hGPhsB-96McKlhXZf1A05ZXHo8",
            authDomain: "devops-10d92.firebaseapp.com",
            databaseURL: "https://devops-10d92-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "devops-10d92",
            storageBucket: "devops-10d92.appspot.com",
            messagingSenderId: "658512427596",
            appId: "1:658512427596:web:7c952bea1f04f6abc312e9",
            measurementId: "G-FPX12XED41"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        db.settings({
            timestampsInSnapshots: true,
            merge: true
        });


    </script>
</head>
<body>
    
    <header class="site-header" id="header">
        <h1 class="site-header__title" data-lead-id="site-header-title">THANK YOU!</h1>
    </header>

    <div class="main-content">
        <p class="main-content_body" data-lead-id="main-content-body">Please use the barcode at the vending machine!</p>
        <canvas id="barcode"></canvas>
        <script>
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const number = urlParams.get('number');

            var randomBarcode = Math.floor(Math.random() * 900000000) + 100000000;
            var randomBarcodeStr = randomBarcode.toString();
            JsBarcode("#barcode", randomBarcode.toString(), {width: 3, height: 200});
            db.collection("test").doc(number).update({
                        barcode: randomBarcodeStr,
                    });
        </script>
        <p class="main-content__body" data-lead-id="main-content-body">Thank you for your purchase! Please come back again!</p>
        
        <!-- Additional content -->
        <div class="additional-content">
            <p class="additional-content__message">Your satisfaction is our priority. If you have any questions or concerns, feel free to <a href="contact.html">contact us</a>.</p>
        </div>
    </div>
    <button class="redirect-button" onclick="window.location.href = 'index.html'">Return to menu</button>
    <footer class="site-footer" id="footer">
        <p class="site-footer__fineprint" id="fineprint">Copyright Â©2024 | All Rights Reserved</p>
    </footer>

    
</body>
</html>
