<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thank You!</title>
    <!-- Add JsBarcode library -->
    <script defer src="https://cdn.jsdelivr.net/jsbarcode/3.11.0/JsBarcode.all.min.js"></script>
</head>
<body>

    <header class="site-header" id="header">
        <h1 class="site-header__title" data-lead-id="site-header-title">THANK YOU!</h1>
    </header>

    <div class="main-content">
        <canvas id="barcodeCanvas"></canvas>
        <p class="main-content__body" data-lead-id="main-content-body">Thank you for your purchase! Please come back again!</p>

        <!-- Additional content -->
        <div class="additional-content">
            <p class="additional-content__message">Your satisfaction is our priority. If you have any questions or concerns, feel free to <a href="contact.html">contact us</a>.</p>
        </div>
    </div>

    <footer class="site-footer" id="footer">
        <p class="site-footer__fineprint" id="fineprint">Copyright Â©2024 | All Rights Reserved</p>
    </footer>

    <script>
        // Function to parse URL parameters
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        // Retrieve the barcode value from the URL
        var generatedBarcode = getParameterByName('barcode');

        // Display the barcode on the canvas
        JsBarcode("#barcodeCanvas", generatedBarcode, { format: "CODE128" });

        // Send the barcode to Firebase (you need to initialize Firebase here)
        // For example:
        // var firebaseConfig = { ... }; // Your Firebase configuration
        // firebase.initializeApp(firebaseConfig);
        // var database = firebase.database();
        // database.ref('barcodes').push({ barcode: generatedBarcode });
    </script>
</body>
</html>
