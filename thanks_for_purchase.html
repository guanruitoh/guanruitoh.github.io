<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thank You!</title>

    <!-- Add Firebase scripts -->
    <script defer src="https://www.gstatic.com/firebasejs/9.6.3/firebase-app.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/9.6.3/firebase-database.js"></script>

    <!-- Add JsBarcode library -->
    <script defer src="https://cdn.jsdelivr.net/jsbarcode/3.11.0/JsBarcode.all.min.js"></script>

    <!-- Your Firebase configuration and initialization code -->
    <script defer>
        var firebaseConfig = {
            apiKey: "AIzaSyBo8djp3hGPhsB-96McKlhXZf1A05ZXHo8",
            authDomain: "devops-10d92.firebaseapp.com",
            databaseURL: "https://devops-10d92-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "devops-10d92",
            storageBucket: "devops-10d92.appspot.com",
            messagingSenderId: "658512427596",
            appId: "1:658512427596:web:7c952bea1f04f6abc312e9",
            measurementId: "G-FPX12XED41"
        };

        firebase.initializeApp(firebaseConfig);
        var database = firebase.database();

        // Function to generate a random barcode and submit it to Firebase
        function generateAndSubmitBarcode() {
            // Generate a random barcode
            var randomBarcode = Math.floor(Math.random() * 900000000) + 100000000;

            // Push barcode data to the 'barcodes' node in the database
            database.ref('barcodes').push({
                barcode: randomBarcode.toString()
            }, function (error) {
                if (error) {
                    alert('Barcode submission failed. Please try again.');
                } else {
                    // Display the generated barcode on the SVG
                    JsBarcode("#barcodeSvg", randomBarcode.toString(), { format: "CODE128" });
                    alert('Barcode submitted successfully!');
                }
            });
        }
    </script>
</head>
<body>
    <div>
        <svg id="barcodeSvg"></svg>
        <p>Thank you for your purchase! Please come back again!</p>
        <button onclick="generateAndSubmitBarcode()">Generate and Submit Barcode</button>
    </div>
</body>
</html>
